<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <script>
        const unauthorized = () => {
            window.location = "./";
        }
        try {
            (async function () {
                let auth = document.cookie.split("key=")[1];
                if (auth == undefined) {
                    unauthorized();
                } else {
                    const response = await fetch("./serveEditor", {
                        method: 'GET',
                        headers: {
                            "Authorization": auth
                        },
                    })
                    document.open();
                    document.write(await response.text());
                    document.close();
                    document.title = "editor";
                }
            })()
        } catch (err){
            unauthorized();
        }
    </script>
    <script src="./particles.js" defer></script>
    <title>Loading</title>
    <link rel="stylesheet" href="./styles.css" />
</head>

<body>
    <canvas id="canvas"></canvas>
    <main>
        <main>
            <div style="border:none; background: none;">
                <h1 style="font-size: 10vh; pointer-events: none; text-shadow: 2px 0 #000, -2px 0 #000, 0 2px #000, 0 -2px #000,
                1px 1px #000, -1px -1px #000, 1px -1px #000, -1px 1px #000;">Loading</h1>
            </div>
        </main>
    </main>
</body>

</html>